<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Plan Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .container {
            max-width: 1280px;
        }
        textarea, #plan-display {
            transition: all 0.3s ease-in-out;
        }
        .step-circle {
            animation: pulse-ring 1.2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse-ring {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1.6); opacity: 0; }
        }
        .toast {
            visibility: hidden;
            min-width: 250px;
            margin-left: -125px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 16px;
            position: fixed;
            z-index: 1000;
            left: 50%;
            bottom: 30px;
            font-size: 17px;
        }
        .toast.show {
            visibility: visible;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }
        @keyframes fadein {
            from {bottom: 0; opacity: 0;}
            to {bottom: 30px; opacity: 1;}
        }
        @keyframes fadeout {
            from {bottom: 30px; opacity: 1;}
            to {bottom: 0; opacity: 0;}
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 p-6 sm:p-10 min-h-screen flex flex-col items-center">

    <div id="toast-message" class="toast"></div>

    <!-- Main Container -->
    <div class="container mx-auto p-4 md:p-8 bg-white shadow-xl rounded-2xl w-full">

        <!-- Header -->
        <h1 class="text-4xl sm:text-5xl font-extrabold text-center text-gray-900 mb-2">Project Plan Generator</h1>
        <p class="text-center text-lg text-gray-500 mb-10">Generate a comprehensive project plan from your requirements.</p>

        <!-- New Horizontal Stepper Progress Tracker -->
        <div id="progress-container" class="mb-10 p-6 bg-gray-50 border border-gray-200 rounded-xl">
            <h2 class="text-2xl font-semibold text-gray-700 mb-6">Review & Feedback Progress</h2>
            <div id="stepper-tracker" class="flex items-center justify-between relative">
                <!-- Dynamic content will be rendered here by JavaScript -->
            </div>
            <!-- The connecting line will be managed by JavaScript -->
            <div id="stepper-line" class="absolute inset-x-0 top-6 h-1 bg-green-500 transition-all duration-500" style="width: 0%;"></div>
        </div>

    </div>

    <script>
        // Use a function to show temporary messages (Toast) instead of alert()
        function showToast(message) {
            const toast = document.getElementById('toast-message');
            toast.textContent = message;
            toast.className = "toast show";
            setTimeout(() => {
                toast.className = toast.className.replace("show", "");
            }, 3000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const stepperTracker = document.getElementById('stepper-tracker');
            
            // Define the roles and their initial status
            const roles = [
                { name: 'Technical Manager', status: 'finished' },
                { name: 'Senior Architect', status: 'progress' },
                { name: 'Business Analyst', status: 'waiting' },
                { name: 'Senior Technical Lead', status: 'waiting' },
                { name: 'QA Lead', status: 'waiting' },
                { name: 'DevOps Engineer', status: 'waiting' },
                { name: 'Senior Developer', status: 'waiting' }
            ];

            // Function to render the progress tracker UI
            function renderStepper() {
                stepperTracker.innerHTML = '';
                const totalRoles = roles.length;
                let finishedCount = 0;

                roles.forEach((role, index) => {
                    const isFinished = role.status === 'finished';
                    const isInProgress = role.status === 'progress';
                    const statusColor = isFinished ? 'bg-green-500' : (isInProgress ? 'bg-blue-500' : 'bg-gray-400');
                    const statusText = isFinished ? 'Finished' : (isInProgress ? 'In Progress' : 'Waiting');
                    const pulseClass = isInProgress ? 'step-circle' : '';

                    const roleDiv = document.createElement('div');
                    roleDiv.className = `relative flex-1 text-center`;
                    roleDiv.innerHTML = `
                        <div class="relative w-12 h-12 mx-auto rounded-full ${statusColor} flex items-center justify-center text-white font-bold text-lg mb-2 z-10">
                            ${index + 1}
                            ${isInProgress ? `<span class="absolute w-full h-full rounded-full ${statusColor} opacity-75 ${pulseClass}"></span>` : ''}
                        </div>
                        <h4 class="text-xs font-semibold text-gray-900">${role.name}</h4>
                        <span class="text-xs text-gray-500">${statusText}</span>
                    `;
                    stepperTracker.appendChild(roleDiv);

                    if (isFinished) {
                        finishedCount++;
                    }
                });

            }
            
            // Initial render of the stepper
            renderStepper();
        });
    </script>
</body>
</html>
